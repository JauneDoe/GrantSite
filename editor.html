<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Website Editor - CGI</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <script>
      if (sessionStorage.getItem("ownerAccess") !== "granted") {
        window.location.href = "login.html";
      }
    </script>
    <header class="site-header" style="position: sticky; top: 0; z-index: 100;">
      <nav class="nav">
        <span class="logo">
          <span class="logo-mark">CGI</span>
          <span class="logo-text">Website Editor</span>
        </span>
        <div class="nav-actions">
          <a class="button button-ghost" href="owner.html">Back to Admin</a>
          <a class="button button-ghost" href="index.html" target="_blank">View Live Site</a>
         </div>
      </nav>
    </header>

    <main class="dashboard-main" style="max-width: 900px; margin: 0 auto; padding: 2rem;">
        <div class="section-heading">
            <h2>Website Content Editor</h2>
            <p>Update text, images, and brand colors on your public landing page.</p>
        </div>

        <form class="owner-form card" id="owner-form">
            <!-- BRANDING & NAV -->
            <details open style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Branding & Navigation</summary>
                <div class="owner-grid">
                    <div class="form-field">
                        <label for="logoMark">Logo initials</label>
                        <input id="logoMark" data-edit-key="logoMark" value="CGI" />
                    </div>
                    <div class="form-field">
                        <label for="logoText">Logo text</label>
                        <input id="logoText" data-edit-key="logoText" value="Community Grants Initiative" />
                    </div>
                    <!-- Nav Links -->
                    <div class="form-field"><label>Nav: About</label><input data-edit-key="navAbout" value="About Us" /></div>
                    <div class="form-field"><label>Nav: Who</label><input data-edit-key="navWho" value="Who We Serve" /></div>
                    <div class="form-field"><label>Nav: Services</label><input data-edit-key="navWork" value="Our Services" /></div>
                    <div class="form-field"><label>Nav: Impact</label><input data-edit-key="navImpact" value="Success Stories" /></div>
                    <div class="form-field"><label>Nav: Contact</label><input data-edit-key="navContact" value="Contact" /></div>
                    <div class="form-field"><label>Nav: CTA Button</label><input data-edit-key="navCtaText" value="Get Qualified" /></div>
                </div>
            </details>

            <!-- HERO SECTION -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Hero Section</summary>
                 <div class="owner-grid">
                      <div class="form-field full-width">
                        <label>Eyebrow Text</label>
                        <input data-edit-key="heroEyebrow" value="Building opportunity together" />
                      </div>
                      <div class="form-field full-width">
                        <label>Main Headline</label>
                        <textarea rows="2" data-edit-key="heroTitle">We connect resources to the people and places that need them most.</textarea>
                      </div>
                       <div class="form-field full-width">
                        <label>Subtitle</label>
                        <textarea rows="2" data-edit-key="heroSubtitle">Our mission is to secure and deliver grant-funded support that strengthens neighborhoods, families, and local leadersâ€”so every community can thrive.</textarea>
                      </div>
                      <!-- Hero Actions -->
                      <div class="form-field"><label>Primary Button Text</label><input data-edit-key="heroPrimaryText" value="Get Qualified for Funding" /></div>
                      <div class="form-field"><label>Primary Button Link</label><input data-edit-key="heroPrimaryLink" value="client-dashboard.html" /></div>
                      <div class="form-field"><label>Secondary Button Text</label><input data-edit-key="heroSecondaryText" value="How it Works" /></div>
                      <div class="form-field"><label>Secondary Button Link</label><input data-edit-key="heroSecondaryLink" value="#what" /></div>
                 </div>
            </details>

            <!-- HERO CARD / TRACKER -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Success Tracker & Stats</summary>
                 <p class="form-help">
                  Option 1: Enter values manually.<br>
                  Option 2: Paste a "Published to Web" Google Sheet CSV link.
                </p>
                <div class="owner-grid">
                   <div class="form-field full-width">
                    <label>Card Title</label>
                    <input data-edit-key="heroCardTitle" value="Client Success Tracker" />
                   </div>
                   <div class="form-field full-width">
                    <label>Card Body</label>
                    <textarea data-edit-key="heroCardBody">We are dedicated to maximizing funding opportunities. See the total value of grants secured for our clients this year.</textarea>
                   </div>

                   <!-- Progress Bar Data -->
                   <div class="form-field">
                    <label for="fundraisingCurrent">Current Verified ($)</label>
                    <input type="number" id="fundraisingCurrent" data-edit-key="fundraisingCurrent" placeholder="e.g. 50000" />
                   </div>
                   <div class="form-field">
                    <label for="fundraisingGoal">Target Amount ($)</label>
                    <input type="number" id="fundraisingGoal" data-edit-key="fundraisingGoal" placeholder="e.g. 100000" />
                   </div>
                   <div class="form-field full-width">
                    <label for="fundraisingSheetUrl">Google Sheet CSV Link</label>
                    <input id="fundraisingSheetUrl" data-edit-key="fundraisingSheetUrl" placeholder="https://docs.google.com/.../pub?output=csv" />
                   </div>
                   <div class="form-field"><label>Progress Title</label><input data-edit-key="progressTitle" value="Funds Secured (2026)" /></div>

                   <!-- Stats -->
                   <div class="form-field"><label>Stat 1 Number</label><input data-edit-key="statOneNumber" value="50+" /></div>
                   <div class="form-field"><label>Stat 1 Label</label><input data-edit-key="statOneLabel" value="Clients Funded" /></div>
                   <div class="form-field"><label>Stat 2 Number</label><input data-edit-key="statTwoNumber" value="$1M+" /></div>
                   <div class="form-field"><label>Stat 2 Label</label><input data-edit-key="statTwoLabel" value="In Active Inquiries" /></div>
                   
                   <!-- Card Actions -->
                   <div class="form-field"><label>Card Primary Btn</label><input data-edit-key="heroCardPrimaryText" value="Start Your Request" /></div>
                   <div class="form-field"><label>Card Secondary Btn</label><input data-edit-key="heroCardSecondaryText" value="See Community Impact" /></div>
                </div>
            </details>

            <!-- ABOUT US -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">About Section</summary>
                <div class="owner-grid">
                    <div class="form-field full-width"><label>Section Title</label><input data-edit-key="aboutTitle" value="About us" /></div>
                    <div class="form-field full-width"><label>Section Intro</label><textarea data-edit-key="aboutIntro">We are a community-centered initiative focused on expanding access to resources...</textarea></div>
                    
                    <div class="form-field full-width"><strong>Story Card</strong></div>
                    <div class="form-field full-width"><label>Title</label><input data-edit-key="aboutStoryTitle" value="Our story" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="aboutStoryBody"></textarea></div>

                    <div class="form-field full-width"><strong>Leadership Card</strong></div>
                    <div class="form-field full-width"><label>Title</label><input data-edit-key="aboutLeadTitle" value="Founder & leadership" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="aboutLeadBody"></textarea></div>

                    <div class="form-field full-width"><strong>Values Card</strong></div>
                    <div class="form-field full-width"><label>Title</label><input data-edit-key="aboutValuesTitle" value="Our values" /></div>
                    <!-- Values details omitted for brevity, adding core ones -->
                    <div class="form-field"><label>Value 1 Label</label><input data-edit-key="valueOneLabel" value="Equity:" /></div>
                    <div class="form-field"><label>Value 1 Body</label><input data-edit-key="valueOneBody" value="We focus resources where gaps are widest." /></div>
                    <div class="form-field"><label>Value 2 Label</label><input data-edit-key="valueTwoLabel" value="Access:" /></div>
                    <div class="form-field"><label>Value 2 Body</label><input data-edit-key="valueTwoBody" value="We remove barriers to funding and support." /></div>
                    <div class="form-field"><label>Value 3 Label</label><input data-edit-key="valueThreeLabel" value="Empowerment:" /></div>
                    <div class="form-field"><label>Value 3 Body</label><input data-edit-key="valueThreeBody" value="We elevate community-led solutions." /></div>
                    <div class="form-field"><label>Value 4 Label</label><input data-edit-key="valueFourLabel" value="Sustainability:" /></div>
                    <div class="form-field"><label>Value 4 Body</label><input data-edit-key="valueFourBody" value="We invest in long-term impact." /></div>
                </div>
            </details>

            <!-- WHO WE SERVE -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Who We Serve</summary>
                <div class="owner-grid">
                    <div class="form-field full-width"><label>Section Title</label><input data-edit-key="whoTitle" value="Who we serve" /></div>
                    <div class="form-field full-width"><label>Intro</label><textarea data-edit-key="whoIntro"></textarea></div>

                    <div class="form-field full-width"><strong>Card 1</strong></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="whoOneTitle" value="Families and youth" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="whoOneBody"></textarea></div>

                    <div class="form-field full-width"><strong>Card 2</strong></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="whoTwoTitle" value="Neighborhood partners" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="whoTwoBody"></textarea></div>

                    <div class="form-field full-width"><strong>Card 3</strong></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="whoThreeTitle" value="Community leaders" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="whoThreeBody"></textarea></div>
                </div>
            </details>

            <!-- OUR WORK -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Our Work</summary>
                <div class="owner-grid">
                    <div class="form-field full-width"><label>Section Title</label><input data-edit-key="workTitle" value="Our work / programs" /></div>
                    <div class="form-field full-width"><label>Intro</label><textarea data-edit-key="workIntro"></textarea></div>

                    <div class="form-field full-width"><strong>Card 1</strong></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="workOneTitle" value="Community Support" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="workOneBody"></textarea></div>

                    <div class="form-field full-width"><strong>Card 2</strong></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="workTwoTitle" value="Education & Resources" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="workTwoBody"></textarea></div>

                    <div class="form-field full-width"><strong>Card 3</strong></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="workThreeTitle" value="Outreach & Advocacy" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="workThreeBody"></textarea></div>

                    <div class="form-field full-width"><strong>Card 4</strong></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="workFourTitle" value="Capacity Building" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="workFourBody"></textarea></div>
                </div>
            </details>

            <!-- IMPACT -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Community Impact</summary>
                <div class="owner-grid">
                    <div class="form-field full-width"><label>Section Title</label><input data-edit-key="impactTitle" value="Community impact" /></div>
                    <div class="form-field full-width"><label>Intro</label><textarea data-edit-key="impactIntro"></textarea></div>
                    
                    <!-- Item 1 -->
                    <div class="form-field full-width"><strong>Impact Item 1</strong></div>
                    <div class="form-field full-width"><label>Image URL</label><input data-edit-key="impactOneImage" placeholder="https://..." /></div>
                    <div class="form-field"><label>Label</label><input data-edit-key="impactOneLabel" value="Community support in action" /></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="impactOneTitle" value="Neighborhood resource drives" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="impactOneBody"></textarea></div>

                     <!-- Item 2 -->
                    <div class="form-field full-width"><strong>Impact Item 2</strong></div>
                    <div class="form-field full-width"><label>Image URL</label><input data-edit-key="impactTwoImage" placeholder="https://..." /></div>
                    <div class="form-field"><label>Label</label><input data-edit-key="impactTwoLabel" value="Trusted local partners" /></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="impactTwoTitle" value="Partnerships with local leaders" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="impactTwoBody"></textarea></div>

                    <!-- Item 3 -->
                    <div class="form-field full-width"><strong>Impact Item 3</strong></div>
                    <div class="form-field full-width"><label>Image URL</label><input data-edit-key="impactThreeImage" placeholder="https://..." /></div>
                    <div class="form-field"><label>Label</label><input data-edit-key="impactThreeLabel" value="Families and youth programs" /></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="impactThreeTitle" value="Youth and family engagement" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="impactThreeBody"></textarea></div>

                    <!-- Item 4 -->
                    <div class="form-field full-width"><strong>Impact Item 4</strong></div>
                    <div class="form-field full-width"><label>Image URL</label><input data-edit-key="impactFourImage" placeholder="https://..." /></div>
                    <div class="form-field"><label>Label</label><input data-edit-key="impactFourLabel" value="Capacity building" /></div>
                    <div class="form-field"><label>Title</label><input data-edit-key="impactFourTitle" value="Sustained community investment" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="impactFourBody"></textarea></div>
                </div>
            </details>

            <!-- CTA SECTION -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Closing CTA</summary>
                <div class="owner-grid">
                    <div class="form-field full-width"><label>Title</label><input data-edit-key="ctaTitle" value="Ready to find funding?" /></div>
                    <div class="form-field full-width"><label>Body</label><textarea data-edit-key="ctaBody"></textarea></div>
                    <div class="form-field"><label>Primary Button Text</label><input data-edit-key="ctaPrimaryText" value="Schedule Consultation" /></div>
                    <div class="form-field"><label>Primary Button Link</label><input data-edit-key="ctaPrimaryLink" value="client-dashboard.html" /></div>
                    <div class="form-field"><label>Secondary Button Text</label><input data-edit-key="ctaSecondaryText" value="See Our Services" /></div>
                    <div class="form-field"><label>Secondary Button Link</label><input data-edit-key="ctaSecondaryLink" value="#what" /></div>
                </div>
            </details>

            <!-- CONTACT -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Contact Section</summary>
                <div class="owner-grid">
                    <div class="form-field full-width"><label>Title</label><input data-edit-key="contactTitle" value="Contact / connect" /></div>
                    <div class="form-field full-width"><label>Intro</label><textarea data-edit-key="contactIntro"></textarea></div>
                    
                    <div class="form-field full-width"><strong>Form Labels</strong></div>
                    <div class="form-field"><label>Name Label</label><input data-edit-key="contactNameLabel" value="Name" /></div>
                    <div class="form-field"><label>Email Label</label><input data-edit-key="contactEmailLabel" value="Email" /></div>
                    <div class="form-field"><label>Message Label</label><input data-edit-key="contactMessageLabel" value="Message" /></div>
                    <div class="form-field"><label>Button Text</label><input data-edit-key="contactButtonText" value="Send Message" /></div>

                    <div class="form-field full-width"><strong>Info Box</strong></div>
                    <div class="form-field"><label>Email Title</label><input data-edit-key="contactEmailTitle" value="Email" /></div>
                    <div class="form-field"><label>Email Address</label><input data-edit-key="contactEmail" value="hello@communitygrants.org" /></div>
                    <div class="form-field full-width"><label>Email Link (mailto:)</label><input data-edit-key="contactEmailHref" value="mailto:hello@communitygrants.org" /></div>

                    <div class="form-field full-width"><label>Partner Title</label><input data-edit-key="contactPartnerTitle" value="Partner With Us" /></div>
                    <div class="form-field full-width"><label>Partner Body</label><textarea data-edit-key="contactPartnerBody"></textarea></div>
                    <div class="form-field"><label>Partner Button</label><input data-edit-key="contactPartnerButtonText" value="Support Our Mission" /></div>
                    <div class="form-field"><label>Partner Link</label><input data-edit-key="contactPartnerButtonLink" value="#cta" /></div>
                </div>
            </details>

            <!-- COLORS -->
            <details style="margin-bottom: 1rem; border-bottom: 1px solid var(--border); padding-bottom: 1rem;">
                <summary style="font-weight: 700; cursor: pointer; margin-bottom: 1rem;">Theme & Colors</summary>
                <div class="owner-grid">
                  <div class="form-field">
                    <label for="themeBg">Background Color</label>
                    <div style="display: flex; gap: 0.5rem; align-items: center;">
                      <input type="color" id="themeBg" data-edit-key="themeBg" value="#fffaf6" style="height: 40px; width: 60px; padding: 0;" />
                    </div>
                  </div>
                  <div class="form-field">
                     <label for="themePrimary">Primary Color</label>
                     <input type="color" id="themePrimary" data-edit-key="themePrimary" value="#d97706" style="height: 40px; width: 60px; padding: 0;" />
                  </div>
                   <!-- Additional Theme Vars -->
                   <div class="form-field">
                     <label>Text Color</label>
                     <input type="color" data-edit-key="themeText" value="#2d2a26" style="height: 40px; width: 60px; padding: 0;" />
                   </div>
                   <div class="form-field">
                     <label>Surface Color</label>
                     <input type="color" data-edit-key="themeSurface" value="#ffffff" style="height: 40px; width: 60px; padding: 0;" />
                   </div>
                   <div class="form-field">
                     <label>Muted Text</label>
                     <input type="color" data-edit-key="themeMuted" value="#6b7280" style="height: 40px; width: 60px; padding: 0;" />
                   </div>
                </div>
            </details>

            <div class="owner-actions" style="position: sticky; bottom: 1rem; background: white; padding: 1rem; border-top: 1px solid var(--border); box-shadow: 0 -4px 12px rgba(0,0,0,0.05); z-index: 50;">
              <button class="button button-primary" type="submit">Save Changes to Site</button>
              <button class="button button-ghost" type="button" id="reset-edits">Reset Defaults</button>
            </div>
        </form>
    </main>

    <script>
      // SITE EDITOR LOGIC
      const form = document.getElementById("owner-form");
      const resetButton = document.getElementById("reset-edits");
      const storedEdits = localStorage.getItem("siteEdits");
      const edits = storedEdits ? JSON.parse(storedEdits) : {};
      
      document.querySelectorAll("[data-edit-key]").forEach((input) => {
        const key = input.dataset.editKey;
        if (Object.prototype.hasOwnProperty.call(edits, key)) {
          input.value = edits[key];
        }
      });

      form.addEventListener("submit", (event) => {
        event.preventDefault();
        const payload = {};
        document.querySelectorAll("[data-edit-key]").forEach((input) => {
          payload[input.dataset.editKey] = input.value.trim();
        });
        localStorage.setItem("siteEdits", JSON.stringify(payload));
        alert("Changes saved. Open the homepage to review updates.");
      });

      resetButton.addEventListener("click", () => {
        if(confirm("Reset all text and colors to original defaults?")) {
            localStorage.removeItem("siteEdits");
            location.reload();
        }
      });
    </script>
  </body>
</html>